// remove trailing zeros
while ((x & 1) == 0) {
    x = x >> 1;    
}